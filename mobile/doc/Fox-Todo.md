我想到的优化点放在上面

* 加入LLM API的自动路由机制，如果过程中有失败，自动切换到下一个API，并且根据失败返回值来进行处理。比如
  - 如果是额度不够，直接切换到下一个API。在第二天自动恢复额度
  - 如果是网络问题，重试3次，如果还是不行，切换到下一个API
  - 如果是其他问题，直接报错
* 加入对话历史的支持和摘要机制
  - 对话历史可以选择性地保留，保留的对话会被摘要成一段文字，作为后续对话的上下文
  - 摘要机制可以使用一个单独的API来进行异步摘要
